"use strict";angular.module("ngRailsApp",["ngResource","ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"})}]),angular.module("ngRailsApp").controller("MainCtrl",["Todos","$scope",function(a,b){var c=this;c.todos=[],c.filtered=[],c.current="all",c.filter={};var d=function(){c.todos=a.query()},e=function(a){var b=angular.element(".todos .results");b.css("height",55*a.length+"px")};c.setCurrent=function(a){"all"===a?c.filter={}:"pending"===a?c.filter={completed:!1}:c.filter={completed:!0},c.current=a},c.isCurrent=function(a){return a===c.current?!0:!1},c.addTodo=function(){c.text&&c.todos.push({id:c.todos.length,text:c.text,completed:!1}),c.text=null},c.removeTodo=function(a){c.todos.splice(c.todos.indexOf(a),1)},c.completeTodo=function(a){a.completed=!a.completed},c.sendInput=function(a){13===a.which&&c.addTodo()},b.$watch("main.filtered",function(a){var b=a?a:[];e(b)},!0),d()}]),angular.module("ngRailsApp").service("Todos",["$resource",function(a){return a("/api/v1/users")}]),angular.module("ngRailsApp").run(["$templateCache",function(a){a.put("views/header.html",'<header> <img src="https://ioasys.com.br/wp-content/themes/ioasys/src/images/ioasys-logo.png"> </header>'),a.put("views/main.html",'<section class="todos"> <div class="add"> <div class="col-xs-12"> <input ng-model="main.text" ng-keypress="main.sendInput($event)" type="text" class="form-control" placeholder="O que precisa ser feito?"> <button ng-click="main.addTodo()" class="btn"> <span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> </button> </div> </div> <div class="todos panel"> <ul class="header row text-center"> <li ng-click="main.setCurrent(\'all\')" ng-class="{\'active\': main.isCurrent(\'all\')}" class="col-xs-4"> Todos </li> <li ng-click="main.setCurrent(\'pending\')" ng-class="{\'active\': main.isCurrent(\'pending\')}" class="col-xs-4"> Pendentes </li> <li ng-click="main.setCurrent(\'complete\')" ng-class="{\'active\': main.isCurrent(\'complete\')}" class="col-xs-4"> Feitos </li> </ul> <ul class="results row"> <li ng-class="{\'completed\': todo.completed}" ng-click="main.completeTodo(todo)" ng-repeat="todo in main.filtered = (main.todos | filter: main.filter)"> <span ng-class="{\'glyphicon-ok-circle\': todo.completed, \'glyphicon-record\': !todo.completed}" class="status glyphicon" aria-hidden="true"> </span> {{ todo.text }} <span ng-click="main.removeTodo(todo)" class="remove glyphicon glyphicon-remove-sign" aria-hidden="true"></span> </li> </ul> </div> </section>')}]);